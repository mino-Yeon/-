<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Promise</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      :root { --accent: #38bdf8; --accent-dark: #0284c7; --accent-bg: #f0f9ff; --accent-border: #bae6fd; }

      body { font-family: sans-serif; background: #f4f6f8; color: #333; display: flex; flex-direction: column; min-height: 100vh; }

      header { background: linear-gradient(135deg, #0f172a, #0369a1); color: white; padding: 18px 28px; display: flex; align-items: center; gap: 12px; }
      header .header-icon { font-size: 1.4rem; }
      header h1 { font-size: 1.2rem; letter-spacing: 0.02em; }
      header span { font-size: 0.8rem; background: rgba(255,255,255,0.15); padding: 2px 10px; border-radius: 20px; margin-left: 8px; color: #bae6fd; }

      .layout { display: flex; flex: 1; max-width: 1100px; width: 100%; margin: 0 auto; padding: 24px; gap: 24px; }

      nav.sidebar { width: 200px; flex-shrink: 0; }
      nav.sidebar .sidebar-inner { position: sticky; top: 24px; background: #fff; border-radius: 10px; padding: 16px; box-shadow: 0 2px 10px rgba(0,0,0,0.07); }
      nav.sidebar h2 { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.08em; color: #94a3b8; margin-bottom: 12px; }
      nav.sidebar ul { list-style: none; }
      nav.sidebar ul li { margin-bottom: 4px; }
      nav.sidebar ul li a { text-decoration: none; color: #555; font-size: 0.88rem; display: flex; align-items: center; gap: 8px; padding: 5px 8px; border-radius: 6px; transition: background 0.15s; }
      nav.sidebar ul li a:hover { background: var(--accent-bg); color: var(--accent-dark); }
      nav.sidebar ul li a .nav-badge { font-size: 0.72rem; background: #e2e8f0; color: #64748b; padding: 1px 7px; border-radius: 20px; font-family: "Courier New", monospace; }
      nav.sidebar ul li a:hover .nav-badge { background: var(--accent-border); color: var(--accent-dark); }

      main { flex: 1; min-width: 0; }

      .section { background: #fff; border-radius: 10px; padding: 28px; margin-bottom: 24px; box-shadow: 0 2px 10px rgba(0,0,0,0.06); }
      .section-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 2px solid var(--accent-border); }
      .section-header h2 { font-size: 1.25rem; color: #1e293b; }
      .badge { font-family: "Courier New", monospace; font-size: 0.82rem; font-weight: bold; background: var(--accent-bg); color: var(--accent-dark); border: 1px solid var(--accent-border); padding: 3px 10px; border-radius: 20px; }
      .badge + .badge { margin-left: 4px; }

      .section h3 { font-size: 0.95rem; margin: 20px 0 8px; color: #475569; font-weight: 600; }
      .section p { font-size: 0.95rem; line-height: 1.75; color: #444; margin-bottom: 10px; }
      .section ul { padding-left: 20px; margin-bottom: 12px; }
      .section ul li { font-size: 0.95rem; line-height: 1.85; color: #444; list-style: disc; }

      pre { border-radius: 8px; overflow-x: auto; font-size: 0.88rem; line-height: 1.6; margin: 8px 0 4px; }
      pre code.hljs { border-radius: 8px; }
      .hljs-comment { color: #98c379 !important; }
      .hljs-string  { color: #e5c07b !important; }
      code { font-family: "Courier New", monospace; }
      p code, li code { background: #f1f5f9; padding: 2px 6px; border-radius: 4px; font-size: 0.87rem; color: #0369a1; }

      .code-block pre { border-radius: 8px 8px 0 0; margin-bottom: 0; }
      .result { background: #0f172a; border-radius: 0 0 8px 8px; padding: 12px 16px; margin-bottom: 16px; border-top: 2px solid var(--accent); }
      .result-label { font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.08em; color: var(--accent); margin-bottom: 8px; font-weight: bold; }
      .result pre { margin: 0; background: transparent !important; padding: 0; }
      .result code { font-family: "Courier New", monospace; font-size: 0.87rem; color: #e2e8f0; background: transparent !important; padding: 0; border-radius: 0; }
      .result code .comment { color: #6b7280; }

      .tip  { background: var(--accent-bg); border-left: 4px solid var(--accent); padding: 12px 16px; border-radius: 0 6px 6px 0; margin: 12px 0; font-size: 0.9rem; color: #334155; line-height: 1.65; }
      .warn { background: #fff7ed; border-left: 4px solid #fb923c; padding: 12px 16px; border-radius: 0 6px 6px 0; margin: 12px 0; font-size: 0.9rem; color: #7c2d12; line-height: 1.65; }

      /* íƒ­ */
      .tab-wrap { margin-top: 16px; }
      .tab-btns { display: flex; }
      .tab-btn { padding: 8px 20px; border: 1.5px solid #e2e8f0; background: #f8fafc; font-size: 0.88rem; font-family: inherit; cursor: pointer; color: #64748b; transition: all 0.15s; }
      .tab-btn:first-child { border-radius: 8px 0 0 0; }
      .tab-btn:last-child  { border-radius: 0 8px 0 0; border-left: none; }
      .tab-btn.active { background: #fff; color: var(--accent-dark); border-bottom-color: #fff; font-weight: 600; border-top: 2px solid var(--accent); }
      .tab-content { border: 1.5px solid #e2e8f0; border-radius: 0 8px 8px 8px; padding: 20px; background: #fff; display: none; }
      .tab-content.active { display: block; }

      /* ìƒíƒœ ë°°ì§€ */
      .state-cards { display: flex; gap: 12px; margin: 12px 0; }
      .state-card { flex: 1; border-radius: 8px; padding: 14px 16px; text-align: center; }
      .state-card .sc-name { font-family: "Courier New", monospace; font-size: 0.92rem; font-weight: 700; margin-bottom: 4px; }
      .state-card .sc-desc { font-size: 0.8rem; }
      .state-card.pending   { background: #fefce8; border: 1.5px solid #fde047; }
      .state-card.pending   .sc-name { color: #a16207; }
      .state-card.pending   .sc-desc { color: #854d0e; }
      .state-card.fulfilled { background: #f0fdf4; border: 1.5px solid #86efac; }
      .state-card.fulfilled .sc-name { color: #15803d; }
      .state-card.fulfilled .sc-desc { color: #166534; }
      .state-card.rejected  { background: #fef2f2; border: 1.5px solid #fca5a5; }
      .state-card.rejected  .sc-name { color: #b91c1c; }
      .state-card.rejected  .sc-desc { color: #991b1b; }

      /* ë°ëª¨ */
      .demo { background: #f8fafc; border: 1.5px solid var(--accent-border); border-radius: 8px; padding: 20px; margin-top: 12px; }
      .demo-label { font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.08em; color: var(--accent-dark); font-weight: bold; margin-bottom: 14px; }
      .demo-btn { padding: 8px 18px; border-radius: 6px; border: none; font-size: 0.88rem; font-family: inherit; cursor: pointer; transition: background 0.15s; }
      .demo-btn.primary { background: #0284c7; color: white; }
      .demo-btn.primary:hover { background: #0369a1; }
      .demo-btn.success { background: #16a34a; color: white; }
      .demo-btn.success:hover { background: #15803d; }
      .demo-btn.danger { background: #fee2e2; color: #b91c1c; }
      .demo-btn.danger:hover { background: #fecaca; }
      .demo-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; flex-wrap: wrap; }

      /* ë¡œê·¸ ë°•ìŠ¤ */
      .log-box { background: #1e293b; border-radius: 8px; padding: 12px 16px; margin-top: 10px; min-height: 60px; max-height: 200px; overflow-y: auto; }
      .log-label { font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.08em; color: #94a3b8; margin-bottom: 6px; font-weight: bold; }
      .log-line { font-family: "Courier New", monospace; font-size: 0.82rem; line-height: 1.8; }
      .log-line.green  { color: #86efac; }
      .log-line.yellow { color: #fde68a; }
      .log-line.red    { color: #fca5a5; }
      .log-line.white  { color: #e2e8f0; }
      .log-line.sky    { color: #7dd3fc; }
      .log-line.gray   { color: #6b7280; }

      footer { background: #0f172a; color: #475569; text-align: center; padding: 16px; font-size: 0.82rem; }
    </style>
  </head>
  <body>

    <header>
      <div class="header-icon">ğŸ”„</div>
      <h1>Promise <span>JavaScript</span></h1>
    </header>

    <div class="layout">
      <nav class="sidebar">
        <div class="sidebar-inner">
          <h2>ëª©ì°¨</h2>
          <ul>
            <li><a href="#problem"><span class="nav-badge">ë¬¸ì œ</span></a></li>
            <li><a href="#async"><span class="nav-badge">ë¹„ë™ê¸° í•´ê²°</span></a></li>
            <li><a href="#async-advantage"><span class="nav-badge">ë¹„ë™ê¸° ì¥ì </span></a></li>
            <li><a href="#callback-hell"><span class="nav-badge">ì½œë°± ì§€ì˜¥</span></a></li>
            <li><a href="#promise"><span class="nav-badge">Promise</span></a></li>
            <li><a href="#chaining"><span class="nav-badge">ì²´ì´ë‹</span></a></li>
            <li><a href="#async-await"><span class="nav-badge">async/await</span></a></li>
          </ul>
        </div>
      </nav>

      <main>

        <!-- 1. ë¬¸ì œ -->
        <section class="section" id="problem">
          <div class="section-header"><h2>ë¬¸ì œ â€” ë™ê¸° ë°©ì‹ì˜ í•œê³„</h2></div>
          <p>JavaScriptëŠ” ê¸°ë³¸ì ìœ¼ë¡œ <strong>ì‹±ê¸€ ìŠ¤ë ˆë“œ</strong> í™˜ê²½ì—ì„œ ë™ì‘í•©ë‹ˆë‹¤. ì¦‰, í•œ ë²ˆì— í•˜ë‚˜ì˜ ì‘ì—…ë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
          <p>ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì²˜ëŸ¼ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì´ ìˆìœ¼ë©´, ê·¸ ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ <strong>ë‚˜ë¨¸ì§€ ëª¨ë“  ì‘ì—…ì´ ëŒ€ê¸°</strong>í•´ì•¼ í•©ë‹ˆë‹¤.</p>

          <div class="code-block">
            <pre><code class="language-javascript">function work() {
  console.log("ì‘ì—… ì‹œì‘");

  // ì„œë²„ ìš”ì²­ â€” ë™ê¸° ë°©ì‹ (ì„¸ ë²ˆì§¸ ì¸ì false)
  const xhr = new XMLHttpRequest();
  xhr.open("GET", "/api/data", false); // false = ë™ê¸°
  xhr.send(); // ì‘ë‹µì´ ì˜¬ ë•Œê¹Œì§€ ì—¬ê¸°ì„œ ë©ˆì¶¤!

  alert(xhr.responseText);

  console.log("ë‚˜ë¨¸ì§€ ì‘ì—… ìˆ˜í–‰"); // ì‘ë‹µì´ ì˜¬ ë•Œê¹Œì§€ ì‹¤í–‰ ì•ˆ ë¨
}</code></pre>
            <div class="result">
              <div class="result-label">â–¶ ì‹¤í–‰ íë¦„</div>
              <pre><code>ì‘ì—… ì‹œì‘
<span class="comment">// â¸ ì„œë²„ ì‘ë‹µ ì˜¬ ë•Œê¹Œì§€ ë©ˆì¶¤... (UI ì „ì²´ ì •ì§€)</span>
ë‚˜ë¨¸ì§€ ì‘ì—… ìˆ˜í–‰</code></pre>
            </div>
          </div>
          <div class="warn">ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì„œë²„ ìš”ì²­ì„ í•˜ë©´ ì‘ë‹µì´ ì˜¤ê¸° ì „ê¹Œì§€ ë¸Œë¼ìš°ì €ê°€ ì™„ì „íˆ ë©ˆì¶¥ë‹ˆë‹¤. ìŠ¤í¬ë¡¤ë„, í´ë¦­ë„, í™”ë©´ ë Œë”ë§ë„ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</div>
        </section>

        <!-- 2. ë¹„ë™ê¸° í•´ê²° -->
        <section class="section" id="async">
          <div class="section-header"><h2>í•´ê²° â€” ë¹„ë™ê¸° ë°©ì‹</h2></div>
          <p>ì„¸ ë²ˆì§¸ ì¸ìë¥¼ <code>true</code>ë¡œ ë°”ê¾¸ê³ , ì‘ë‹µì´ ì™”ì„ ë•Œ ì‹¤í–‰í•  ì½”ë“œë¥¼ <strong>ì½œë°± í•¨ìˆ˜</strong>ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ìš”ì²­ì„ ë³´ë‚¸ ë’¤ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ìŒ ì½”ë“œë¥¼ ë°”ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>

          <div class="code-block">
            <pre><code class="language-javascript">function work() {
  console.log("ì‘ì—… ì‹œì‘");

  // ì„œë²„ ìš”ì²­ â€” ë¹„ë™ê¸° ë°©ì‹ (ì„¸ ë²ˆì§¸ ì¸ì true)
  const xhr = new XMLHttpRequest();
  xhr.open("GET", "/api/data", true); // true = ë¹„ë™ê¸°
  xhr.onload = () => {
    // ì‘ë‹µì´ ì™”ì„ ë•Œ ì‹¤í–‰í•  ì½œë°± ë“±ë¡
    alert(xhr.responseText);
  };
  xhr.send(); // ìš”ì²­ë§Œ ë³´ë‚´ê³  ë°”ë¡œ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°

  console.log("ë‚˜ë¨¸ì§€ ì‘ì—… ìˆ˜í–‰"); // ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë°”ë¡œ ì‹¤í–‰
}</code></pre>
            <div class="result">
              <div class="result-label">â–¶ ì‹¤í–‰ íë¦„</div>
              <pre><code>ì‘ì—… ì‹œì‘
ë‚˜ë¨¸ì§€ ì‘ì—… ìˆ˜í–‰  <span class="comment">â† ì‘ë‹µ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë°”ë¡œ ì‹¤í–‰</span>
<span class="comment">// ... ë‚˜ì¤‘ì— ì‘ë‹µì´ ì˜¤ë©´</span>
alert ì‹¤í–‰        <span class="comment">â† onload ì½œë°± ì‹¤í–‰</span></code></pre>
            </div>
          </div>
          <div class="tip">ì‘ë‹µì´ ì˜¤ë”ë¼ë„ í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì‘ì—…ì´ ìˆìœ¼ë©´ ê·¸ê²Œ ëë‚œ í›„ì— ì½œë°±ì´ ì‹¤í–‰ë©ë‹ˆë‹¤. ì´ ìˆœì„œë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ <strong>ì´ë²¤íŠ¸ ë£¨í”„</strong>ì…ë‹ˆë‹¤.</div>
        </section>

        <!-- 3. ë¹„ë™ê¸° ì¥ì  -->
        <section class="section" id="async-advantage">
          <div class="section-header"><h2>ë¹„ë™ê¸°ì˜ ì¥ì </h2></div>
          <p>ë¹„ë™ê¸° ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì‘ì—…ë“¤ì„ <strong>ë™ì‹œì— ì²˜ë¦¬</strong>í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

          <div class="code-block">
            <pre><code class="language-javascript">console.log("ì‘ì—… 1 ì‹œì‘");
setTimeout(() => {
  console.log("ì‘ì—… 1 ë");
}, 1000);

console.log("ì‘ì—… 2 ì‹œì‘");
setTimeout(() => {
  console.log("ì‘ì—… 2 ë");
}, 1000);</code></pre>
            <div class="result">
              <div class="result-label">â–¶ ì‹¤í–‰ ê²°ê³¼ (ì´ ì†Œìš” ì‹œê°„: ì•½ 1ì´ˆ)</div>
              <pre><code>ì‘ì—… 1 ì‹œì‘
ì‘ì—… 2 ì‹œì‘       <span class="comment">â† ì‘ì—… 1ì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë°”ë¡œ ì‹¤í–‰</span>
ì‘ì—… 1 ë         <span class="comment">â† 1ì´ˆ í›„</span>
ì‘ì—… 2 ë         <span class="comment">â† 1ì´ˆ í›„ (2ì´ˆê°€ ì•„ë‹˜!)</span></code></pre>
            </div>
          </div>

          <div class="demo">
            <div class="demo-label">â–¶ ë°ëª¨ â€” ë¹„ë™ê¸° ë³‘ë ¬ ì²˜ë¦¬</div>
            <div class="demo-row">
              <button class="demo-btn primary" id="asyncDemoBtn">ì‹¤í–‰</button>
            </div>
            <div class="log-box" id="asyncDemoLog">
              <div class="log-label">â–¶ ì‹¤í–‰ ë¡œê·¸</div>
            </div>
          </div>
        </section>

        <!-- 4. ì½œë°± ì§€ì˜¥ -->
        <section class="section" id="callback-hell">
          <div class="section-header"><h2>ì½œë°± ì§€ì˜¥</h2></div>
          <p>ë¹„ë™ê¸° ì‘ì—…ë“¤ ì‚¬ì´ì— <strong>ìˆœì„œê°€ í•„ìš”í•œ ê²½ìš°</strong>ì—ëŠ” ì½œë°± ì•ˆì— ì½œë°±ì„ ì¤‘ì²©í•´ì•¼ í•©ë‹ˆë‹¤.</p>
          <p>ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•´ì•¼ í•œë‹¤ë©´:</p>
          <ul>
            <li>â‘  ìœ ì € ì •ë³´ ì¡°íšŒ (ë¹„ë™ê¸°)</li>
            <li>â‘¡ ìœ ì € idë¡œ ê²Œì‹œê¸€ ì¡°íšŒ (ë¹„ë™ê¸°)</li>
            <li>â‘¢ ê²Œì‹œê¸€ ì œëª©ìœ¼ë¡œ ëŒ“ê¸€ ì¡°íšŒ (ë¹„ë™ê¸°)</li>
          </ul>

          <div class="code-block">
            <pre><code class="language-javascript">setTimeout(() => {
  console.log("ìœ ì € ì •ë³´ ê°€ì ¸ì˜´");
  const user = { id: 1, name: "í™ê¸¸ë™" };

  setTimeout(() => {
    console.log("ê²Œì‹œê¸€ ëª©ë¡ ê°€ì ¸ì˜´");
    const posts = ["ê²Œì‹œê¸€1", "ê²Œì‹œê¸€2"];

    setTimeout(() => {
      console.log("ëŒ“ê¸€ ê°€ì ¸ì˜´");
      const comments = ["ëŒ“ê¸€1", "ëŒ“ê¸€2"];
      console.log("ê²°ê³¼:", comments);
    }, 1000);

  }, 1000);
}, 1000);</code></pre>
          </div>
          <div class="warn">ì‘ì—…ì´ ì¶”ê°€ë ìˆ˜ë¡ ë“¤ì—¬ì“°ê¸°ê°€ ê³„ì† ê¹Šì–´ì§‘ë‹ˆë‹¤. ì´ë¥¼ <strong>ì½œë°± ì§€ì˜¥</strong>ì´ë¼ê³  í•˜ë©° ê°€ë…ì„±ì´ í¬ê²Œ ë–¨ì–´ì§€ê³  ì—ëŸ¬ ì²˜ë¦¬ë„ ì–´ë µìŠµë‹ˆë‹¤.</div>
        </section>

        <!-- 5. Promise -->
        <section class="section" id="promise">
          <div class="section-header">
            <h2>Promise</h2>
            <span class="badge">Promise</span>
            <span class="badge">resolve</span>
            <span class="badge">reject</span>
          </div>
          <p>PromiseëŠ” <strong>ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ê°ì²´</strong>ì…ë‹ˆë‹¤. ì½œë°± ì§€ì˜¥ì„ ì—†ì• ê³ , ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ì‰½ê²Œ í•˜ë©°, ë¹„ë™ê¸° ì‘ì—…ì„ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.</p>

          <h3>3ê°€ì§€ ìƒíƒœ</h3>
          <div class="state-cards">
            <div class="state-card pending">
              <div class="sc-name">pending</div>
              <div class="sc-desc">ëŒ€ê¸° ì¤‘ â€” ì•„ì§ ê²°ê³¼ ì—†ìŒ</div>
            </div>
            <div class="state-card fulfilled">
              <div class="sc-name">fulfilled</div>
              <div class="sc-desc">ì´í–‰ë¨ â€” ì„±ê³µ, resolve í˜¸ì¶œ</div>
            </div>
            <div class="state-card rejected">
              <div class="sc-name">rejected</div>
              <div class="sc-desc">ê±°ë¶€ë¨ â€” ì‹¤íŒ¨, reject í˜¸ì¶œ</div>
            </div>
          </div>

          <h3>ê¸°ë³¸ êµ¬ì¡°</h3>
          <div class="code-block">
            <pre><code class="language-javascript">const promise = new Promise((resolve, reject) => {
  // ë¹„ë™ê¸° ì‘ì—… ìˆ˜í–‰
  const success = true;

  if (success) {
    resolve("ì„±ê³µ ë°ì´í„°"); // fulfilled ìƒíƒœë¡œ ì „í™˜
  } else {
    reject("ì—ëŸ¬ ë©”ì‹œì§€"); // rejected ìƒíƒœë¡œ ì „í™˜
  }
});

promise
  .then(data  => console.log("ì„±ê³µ:", data))  // fulfilled ì‹œ ì‹¤í–‰
  .catch(err  => console.log("ì‹¤íŒ¨:", err))   // rejected ì‹œ ì‹¤í–‰
  .finally(   () => console.log("í•­ìƒ ì‹¤í–‰")); // ê²°ê³¼ ë¬´ê´€í•˜ê²Œ ì‹¤í–‰</code></pre>
          </div>

          <div class="demo">
            <div class="demo-label">ğŸ”¬ ë°ëª¨ â€” resolve / reject</div>
            <div class="demo-row">
              <button class="demo-btn success" id="resolveBtn">resolve (ì„±ê³µ)</button>
              <button class="demo-btn danger"  id="rejectBtn">reject (ì‹¤íŒ¨)</button>
            </div>
            <div class="log-box" id="promiseLog">
              <div class="log-label">â–¶ ì‹¤í–‰ ë¡œê·¸</div>
            </div>
          </div>
        </section>

        <!-- 6. ì²´ì´ë‹ -->
        <section class="section" id="chaining">
          <div class="section-header">
            <h2>Promise ì²´ì´ë‹</h2>
            <span class="badge">.then</span>
            <span class="badge">.catch</span>
            <span class="badge">.finally</span>
          </div>
          <p><code>.then()</code>ì—ì„œ Promiseë¥¼ ë°˜í™˜í•˜ë©´ ë‹¤ìŒ <code>.then()</code>ìœ¼ë¡œ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì½œë°± ì§€ì˜¥ ì—†ì´ ìˆœì°¨ì ì¸ ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>

          <div class="tab-wrap">
            <div class="tab-btns">
              <button class="tab-btn active" data-tab="chain-bad">âŒ ì˜ëª»ëœ ë°©ì‹</button>
              <button class="tab-btn"        data-tab="chain-good">âœ… ì²´ì´ë‹ ë°©ì‹</button>
              <button class="tab-btn"        data-tab="chain-short">âœ¨ ì¶•ì•½í˜•</button>
            </div>

            <div class="tab-content active" id="chain-bad">
              <p style="font-size:0.88rem;color:#64748b;margin-bottom:12px">then ì•ˆì—ì„œ ë˜ thenì„ ì¤‘ì²©í•˜ë©´ ì½œë°± ì§€ì˜¥ì´ ê·¸ëŒ€ë¡œ ë°œìƒí•©ë‹ˆë‹¤.</p>
              <pre><code class="language-javascript">getUser()
  .then(user => {
    getPosts(user.id)       // âŒ return ì—†ì´ ì¤‘ì²©
      .then(posts => {
        getComments(posts[0])
          .then(comments => {
            console.log("ëŒ“ê¸€:", comments);
          });
      });
  });</code></pre>
            </div>

            <div class="tab-content" id="chain-good">
              <p style="font-size:0.88rem;color:#64748b;margin-bottom:12px"><code>return</code>ìœ¼ë¡œ Promiseë¥¼ ë°˜í™˜í•˜ë©´ ì²´ì´ë‹ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. <code>.catch()</code>ëŠ” ì•ì„  ëª¨ë“  ë‹¨ê³„ì˜ ì—ëŸ¬ë¥¼ ì¡ìŠµë‹ˆë‹¤.</p>
              <pre><code class="language-javascript">getUser()
  .then(user => {
    return getPosts(user.id); // âœ… Promiseë¥¼ return
  })
  .then(posts => {
    return getComments(posts[0]);
  })
  .then(comments => {
    console.log("ëŒ“ê¸€:", comments);
  })
  .catch(err => {
    console.log("ì—ëŸ¬ ë°œìƒ:", err); // ì–´ëŠ ë‹¨ê³„ì—ì„œë“  ì—ëŸ¬ ì²˜ë¦¬
  })
  .finally(() => {
    console.log("ì‘ì—… ì™„ë£Œ");
  });</code></pre>
            </div>

            <div class="tab-content" id="chain-short">
              <p style="font-size:0.88rem;color:#64748b;margin-bottom:12px">ì½œë°±ì´ ë‹¨ìˆœíˆ ë‹¤ìŒ Promiseë¥¼ ë°˜í™˜í•  ë¿ì´ë¼ë©´ ë” ì§§ê²Œ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
              <pre><code class="language-javascript">getUser()
  .then(user     => getPosts(user.id))
  .then(posts    => getComments(posts[0]))
  .then(comments => console.log("ëŒ“ê¸€:", comments))
  .catch(err     => console.log("ì—ëŸ¬ ë°œìƒ:", err))
  .finally(      () => console.log("ì‘ì—… ì™„ë£Œ"));</code></pre>
            </div>
          </div>

          <div class="demo">
            <div class="demo-label">â–¶ ë°ëª¨ â€” Promise ì²´ì´ë‹ (ìœ ì € â†’ ê²Œì‹œê¸€ â†’ ëŒ“ê¸€)</div>
            <div class="demo-row">
              <button class="demo-btn success" id="chainSuccessBtn">ì„±ê³µ ì‹œë‚˜ë¦¬ì˜¤</button>
              <button class="demo-btn danger"  id="chainFailBtn">ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ (ê²Œì‹œê¸€ ì¡°íšŒ ì‹¤íŒ¨)</button>
            </div>
            <div class="log-box" id="chainLog">
              <div class="log-label">â–¶ ì‹¤í–‰ ë¡œê·¸</div>
            </div>
          </div>
        </section>

        <!-- 7. async/await -->
        <section class="section" id="async-await">
          <div class="section-header">
            <h2>async / await</h2>
            <span class="badge">async</span>
            <span class="badge">await</span>
          </div>
          <p>Promise ì²´ì´ë‹ì„ <strong>ë™ê¸° ì½”ë“œì²˜ëŸ¼ ì½íˆê²Œ</strong> ì‘ì„±í•  ìˆ˜ ìˆëŠ” ë¬¸ë²•ì…ë‹ˆë‹¤. <code>async</code> í•¨ìˆ˜ ì•ˆì—ì„œë§Œ <code>await</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, <code>await</code>ëŠ” Promiseê°€ fulfilled ë˜ëŠ” rejected ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.</p>

          <div class="tab-wrap">
            <div class="tab-btns">
              <button class="tab-btn active" data-tab="await-basic">ê¸°ë³¸ ì‚¬ìš©</button>
              <button class="tab-btn"        data-tab="await-error">ì—ëŸ¬ ì²˜ë¦¬</button>
            </div>
            <div class="tab-content active" id="await-basic">
              <pre><code class="language-javascript">async function loadData() {
  const user     = await getUser();           // Promiseê°€ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°
  const posts    = await getPosts(user.id);
  const comments = await getComments(posts[0]);
  console.log("ëŒ“ê¸€:", comments);
}

loadData(); // í˜¸ì¶œ â€” async í•¨ìˆ˜ëŠ” í•­ìƒ Promiseë¥¼ ë°˜í™˜</code></pre>
            </div>
            <div class="tab-content" id="await-error">
              <p style="font-size:0.88rem;color:#64748b;margin-bottom:12px"><code>.catch()</code> ëŒ€ì‹  <code>try/catch</code>ë¡œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>
              <pre><code class="language-javascript">async function loadData() {
  try {
    const user     = await getUser();
    const posts    = await getPosts(user.id);
    const comments = await getComments(posts[0]);
    console.log("ëŒ“ê¸€:", comments);
  } catch (err) {
    console.log("ì—ëŸ¬ ë°œìƒ:", err); // ì–´ëŠ ë‹¨ê³„ë“  ì—ëŸ¬ ì²˜ë¦¬
  } finally {
    console.log("ì‘ì—… ì™„ë£Œ");
  }
}

loadData();</code></pre>
            </div>
          </div>

          <div class="demo">
            <div class="demo-label">â–¶ ë°ëª¨ â€” async/await (ìœ ì € â†’ ê²Œì‹œê¸€ â†’ ëŒ“ê¸€)</div>
            <div class="demo-row">
              <button class="demo-btn success" id="awaitSuccessBtn">ì„±ê³µ ì‹œë‚˜ë¦¬ì˜¤</button>
              <button class="demo-btn danger"  id="awaitFailBtn">ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ (ê²Œì‹œê¸€ ì¡°íšŒ ì‹¤íŒ¨)</button>
            </div>
            <div class="log-box" id="awaitLog">
              <div class="log-label">â–¶ ì‹¤í–‰ ë¡œê·¸</div>
            </div>
          </div>

          <div class="tip"><code>async/await</code>ëŠ” Promiseë¥¼ ëŒ€ì²´í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ Promise ìœ„ì—ì„œ ë™ì‘í•˜ëŠ” ë¬¸ë²•ì  í¸ì˜ì…ë‹ˆë‹¤. ë‚´ë¶€ì ìœ¼ë¡œëŠ” ì—¬ì „íˆ Promiseì…ë‹ˆë‹¤.</div>
        </section>

      </main>
    </div>

    <footer>
      <p>JavaScript Promise &nbsp;|&nbsp; í•™ìŠµìš© ë¬¸ì„œ</p>
    </footer>

    <script>
      // â”€â”€ íƒ­ ê³µí†µ â”€â”€
      document.querySelectorAll(".tab-wrap").forEach(wrap => {
        wrap.querySelectorAll(".tab-btn").forEach(btn => {
          btn.addEventListener("click", () => {
            wrap.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
            wrap.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
            btn.classList.add("active");
            document.getElementById(btn.dataset.tab).classList.add("active");
          });
        });
      });

      // â”€â”€ ë¡œê·¸ í—¬í¼ â”€â”€
      function addLog(boxId, msg, cls = "white") {
        const box = document.getElementById(boxId);
        const line = document.createElement("div");
        line.className = "log-line " + cls;
        line.textContent = msg;
        box.appendChild(line);
        box.scrollTop = box.scrollHeight;
      }
      function clearLog(boxId) {
        const box = document.getElementById(boxId);
        box.innerHTML = '<div class="log-label">â–¶ ì‹¤í–‰ ë¡œê·¸</div>';
      }

      // â”€â”€ ë¹„ë™ê¸° ì¥ì  ë°ëª¨ â”€â”€
      document.getElementById("asyncDemoBtn").addEventListener("click", () => {
        clearLog("asyncDemoLog");
        const start = Date.now();
        addLog("asyncDemoLog", "ì‘ì—… 1 ì‹œì‘", "white");
        setTimeout(() => addLog("asyncDemoLog", `ì‘ì—… 1 ë (${Date.now()-start}ms ê²½ê³¼)`, "green"), 1000);
        addLog("asyncDemoLog", "ì‘ì—… 2 ì‹œì‘", "white");
        setTimeout(() => addLog("asyncDemoLog", `ì‘ì—… 2 ë (${Date.now()-start}ms ê²½ê³¼)`, "sky"), 1000);
        addLog("asyncDemoLog", "â”€â”€ ë‘ ì‘ì—…ì´ ë™ì‹œì— ì§„í–‰ë©ë‹ˆë‹¤ â”€â”€", "gray");
      });

      // â”€â”€ resolve / reject ë°ëª¨ â”€â”€
      function makePromise(success) {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            if (success) resolve("ë°ì´í„° ìˆ˜ì‹  ì„±ê³µ");
            else reject("ì„œë²„ ì˜¤ë¥˜ ë°œìƒ");
          }, 800);
        });
      }

      document.getElementById("resolveBtn").addEventListener("click", () => {
        clearLog("promiseLog");
        addLog("promiseLog", "Promise ìƒì„± â€” pending ìƒíƒœ", "yellow");
        makePromise(true)
          .then(data  => addLog("promiseLog", `âœ… fulfilled â€” .then() ì‹¤í–‰: "${data}"`, "green"))
          .catch(err  => addLog("promiseLog", `âŒ rejected  â€” .catch() ì‹¤í–‰: "${err}"`, "red"))
          .finally(   () => addLog("promiseLog", "â¬œ .finally() í•­ìƒ ì‹¤í–‰", "white"));
      });

      document.getElementById("rejectBtn").addEventListener("click", () => {
        clearLog("promiseLog");
        addLog("promiseLog", "Promise ìƒì„± â€” pending ìƒíƒœ", "yellow");
        makePromise(false)
          .then(data  => addLog("promiseLog", `âœ… fulfilled â€” .then() ì‹¤í–‰: "${data}"`, "green"))
          .catch(err  => addLog("promiseLog", `âŒ rejected  â€” .catch() ì‹¤í–‰: "${err}"`, "red"))
          .finally(   () => addLog("promiseLog", "â¬œ .finally() í•­ìƒ ì‹¤í–‰", "white"));
      });

      // â”€â”€ ì²´ì´ë‹ Â· await ê³µìš© mock í•¨ìˆ˜ â”€â”€
      function getUser() {
        return new Promise(resolve => setTimeout(() => {
          resolve({ id: 1, name: "í™ê¸¸ë™" });
        }, 700));
      }
      function getPosts(userId, fail = false) {
        return new Promise((resolve, reject) => setTimeout(() => {
          if (fail) reject("ê²Œì‹œê¸€ ì¡°íšŒ ì‹¤íŒ¨ (ì„œë²„ ì˜¤ë¥˜)");
          else resolve(["ê²Œì‹œê¸€1", "ê²Œì‹œê¸€2"]);
        }, 700));
      }
      function getComments(post) {
        return new Promise(resolve => setTimeout(() => {
          resolve(["ëŒ“ê¸€1", "ëŒ“ê¸€2"]);
        }, 700));
      }

      // â”€â”€ ì²´ì´ë‹ ë°ëª¨ â”€â”€
      function runChain(fail, logId) {
        clearLog(logId);
        addLog(logId, "â‘  ìœ ì € ì •ë³´ ì¡°íšŒ ì¤‘...", "gray");
        getUser()
          .then(user => {
            addLog(logId, `âœ… ìœ ì €: ${user.name} (id: ${user.id})`, "green");
            addLog(logId, "â‘¡ ê²Œì‹œê¸€ ì¡°íšŒ ì¤‘...", "gray");
            return getPosts(user.id, fail);
          })
          .then(posts => {
            addLog(logId, `âœ… ê²Œì‹œê¸€: [${posts.join(", ")}]`, "green");
            addLog(logId, "â‘¢ ëŒ“ê¸€ ì¡°íšŒ ì¤‘...", "gray");
            return getComments(posts[0]);
          })
          .then(comments => {
            addLog(logId, `âœ… ëŒ“ê¸€: [${comments.join(", ")}]`, "sky");
          })
          .catch(err => {
            addLog(logId, `âŒ .catch() ì‹¤í–‰ â€” ${err}`, "red");
          })
          .finally(() => {
            addLog(logId, "â¬œ .finally() â€” ì‘ì—… ì™„ë£Œ", "white");
          });
      }

      document.getElementById("chainSuccessBtn").addEventListener("click", () => runChain(false, "chainLog"));
      document.getElementById("chainFailBtn").addEventListener("click",    () => runChain(true,  "chainLog"));

      // â”€â”€ async/await ë°ëª¨ â”€â”€
      async function runAwait(fail, logId) {
        clearLog(logId);
        try {
          addLog(logId, "â‘  ìœ ì € ì •ë³´ ì¡°íšŒ ì¤‘...", "gray");
          const user = await getUser();
          addLog(logId, `âœ… ìœ ì €: ${user.name} (id: ${user.id})`, "green");

          addLog(logId, "â‘¡ ê²Œì‹œê¸€ ì¡°íšŒ ì¤‘...", "gray");
          const posts = await getPosts(user.id, fail);
          addLog(logId, `âœ… ê²Œì‹œê¸€: [${posts.join(", ")}]`, "green");

          addLog(logId, "â‘¢ ëŒ“ê¸€ ì¡°íšŒ ì¤‘...", "gray");
          const comments = await getComments(posts[0]);
          addLog(logId, `âœ… ëŒ“ê¸€: [${comments.join(", ")}]`, "sky");
        } catch (err) {
          addLog(logId, `âŒ catch ì‹¤í–‰ â€” ${err}`, "red");
        } finally {
          addLog(logId, "â¬œ finally â€” ì‘ì—… ì™„ë£Œ", "white");
        }
      }

      document.getElementById("awaitSuccessBtn").addEventListener("click", () => runAwait(false, "awaitLog"));
      document.getElementById("awaitFailBtn").addEventListener("click",    () => runAwait(true,  "awaitLog"));
    </script>

  </body>
</html>